<div class="row-fluid">
    <div class="span12">
    
      <div class="hero-unit">
        <div class="pagination-centered">
            <h1>Dataset Attribution and Citation</h1>
            <p>
            A prototype that demonstrates using machine-readable metadata to automatically generate attribution and citations for open data.
            </p>
        </div>            
      </div>
      
      <div class="row-fluid">
        <div class="span12 pagination-centered">
                <% if @error %>
                    <div class="alert alert-error">
                        <p><strong>Sorry!</strong> error encountered processing dataset metadata<p>
                    </div>                
                <% end %>                
                <% if !found_metadata?(@attribution_data) %>
                    <div class="alert alert-warning">
                        <p><strong>Sorry!</strong> but we couldn't find any machine-readable metadata for that dataset url<p>
                    </div>                
                <% end %>                
                <% if !can_build_attribution?(@attribution_data) %>
                    <div class="alert alert-warning">
                        <p><strong>Sorry!</strong> but we can't build attribution or citation links as the required metadata is not available.<p>
                    </div>                                
                <% end %>
                        
            <form method="GET" action="" class="form-inline">
                <input type="text" id="url" 
                    name="url" class="input-xxlarge" 
                    placeholder="Dataset URL" value="<%= params[:url] %>">
                <button type="submit" class="btn">Attribute</button>
            </form>
            
        </div>              
    </div>
                
      <% if found_metadata?(@attribution_data) && can_build_attribution?(@attribution_data) %>
          <%= erb :attribution %>
          <%= erb :citation %>
      <% end %>
      
      <% if found_metadata?(@attribution_data) %>
          <%= erb :data %>
      <% end %>
</div>